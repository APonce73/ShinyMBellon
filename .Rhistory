Cafe5 <- merge(df_mxstate, Cafe4,by = state_abbr, all.x = T )
head(df_mxstate)
Cafe5 <- merge(df_mxstate, Cafe4.1, by = state_abbr, all.x = T )
head(Cafe4.1)
names(Cafe4.1)[1] <- c("state_abbr")
head(Cafe4.1)
Cafe5 <- merge(df_mxstate, Cafe4.1, by = state_abbr, all.x = T )
head(Cafe4.1)
Cafe5 <- merge(df_mxstate, Cafe4.1, by = "state_abbr", all.x = T )
Cafe5
Cafe5$Val
Cafe5$Val[is.na(Cafe5$Val)] <- 0
names(Cafe5)
names(Cafe5)[13] <- c("value")
mxhexbin_choropleth(Cafe5, num_colors = 1,
title = "Percentage of the population that self-identifies as Afro-Mexican")
mxhexbin_choropleth(Cafe5, num_colors = 2,
title = "Razas de Maíces")
mxhexbin_choropleth(Cafe5, num_colors = 6,
title = "Razas de Maíces")
mxhexbin_choropleth(Cafe5, num_colors = 6, label_size = 10
title = "Razas de Maíces")
mxhexbin_choropleth(Cafe5, num_colors = 6, label_size = 10,
title = "Razas de Maíces")
mxhexbin_choropleth(Cafe5, num_colors = 6, label_size = 2,
title = "Razas de Maíces")
mxhexbin_choropleth(Cafe5, num_colors = 6, label_size = 4,
title = "Razas de Maíces")
mxhexbin_choropleth(Cafe5, num_colors = 6, label_size = 3,
title = "Razas de Maíces")
scale_fill_viridis()
library(viridis)
scale_fill_viridis()
mxhexbin_choropleth(Cafe5, num_colors = 1, label_size = 3,
title = "Razas de Maíces")
scale_fill_viridis()
mxhexbin_choropleth(Cafe5, num_colors = 1, label_size = 3,
title = "Razas de Maíces")+
scale_fill_viridis()
shiny::runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
TableH <- TableL1
#names(Glenn1.1)
#summary(Glenn1.1$Sistema)
#filter(Municipio == "Totontepec Villa de Morelos Mixe")
attach(TableH)
Glenn2 <- aggregate(Val1 ~ Estado + Municipio , FUN = sum, na.rm = T)
Glenn2
Glenn3 <- aggregate(Val1 ~ Sistema + Género , FUN = sum, na.rm = T)
Glenn4 <- aggregate(Val1 ~ Municipio + Sistema , FUN = sum, na.rm = T)
Glenn5 <- aggregate(Val1 ~ Género + NomSci , FUN = sum, na.rm = T)
#head(Glenn2)
names(Glenn2)[1:3] <- c("origin","visit","Val1")
names(Glenn3)[1:3] <- c("origin","visit","Val1")
names(Glenn4)[1:3] <- c("origin","visit","Val1")
names(Glenn5)[1:3] <- c("origin","visit","Val1")
detach(TableH)
Katcha <- as.data.frame(rbind(Glenn2, Glenn3, Glenn4, Glenn5))
Katcha
rm(Glenn2, Glenn3, Glenn4, Glenn5)
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
shiny::runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
TableL
TableH <- TableL1
#names(Glenn1.1)
#summary(Glenn1.1$Sistema)
#filter(Municipio == "Totontepec Villa de Morelos Mixe")
attach(TableH)
Glenn2 <- aggregate(Val1 ~ Estado + Municipio , FUN = sum, na.rm = T)
#Glenn3 <- aggregate(Val1 ~ Municipio + NomSci , FUN = sum, na.rm = T)
Glenn3 <- aggregate(Val1 ~ Sistema + Género , FUN = sum, na.rm = T)
Glenn4 <- aggregate(Val1 ~ Municipio + Sistema , FUN = sum, na.rm = T)
Glenn5 <- aggregate(Val1 ~ Género + NomSci , FUN = sum, na.rm = T)
#head(Glenn2)
names(Glenn2)[1:3] <- c("origin","visit","Val1")
names(Glenn3)[1:3] <- c("origin","visit","Val1")
names(Glenn4)[1:3] <- c("origin","visit","Val1")
names(Glenn5)[1:3] <- c("origin","visit","Val1")
detach(TableH)
Katcha <- rbind(Glenn2, Glenn3, Glenn4, Glenn5)
Katcha
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
TableP1
head(TableL1)
names(TableP1)
TableL2 <- TableP1[,c(2,3,13,15,14)]
head(TableL2)
library(reshape)
TableL3 <- cast(TableL2, Estado + Sistema + Municipio ~ NomSci)
TableL3 <- cast(TableL2, Estado + Sistema + Municipio ~ NomSci, fun.aggregate = sum)
dim(TableL2)
dim(TableL3)
head(TableL3)
TableL3 <- cast(TableL2, Sistema ~ NomSci, fun.aggregate = sum)
head(TableL3)
head(TableL2)
TableL2 <- list(var = TableP1[,c(2,3,13)], valor = TableP1[,c(15,14)])
head(TableL2)
TablaL2 <- na.omit(TableP1)
TableL2 <- list(var = TableL2[,c(2,3,13)], valor = TableL2[,c(15,14)])
TablaL2
TablaL2 <- na.omit(TableP1)
dim(TableL2)
TableL2 <- na.omit(TableP1)
dim(TableL2)
TableL2 <- list(var = TableL2[,c(2,3,13)], valor = TableL2[,c(15,14)])
head(TableL2)
TableL3 <- data.frame(TableL2$var$Estado, TableL2$valor)
names(TableL3)
names(TableL3)[1] <- c("Variable")
TableL3 <- cast(TableL3, Variable ~ NomSci, fun.aggregate = sum)
dim(TableL3)
TableL3
TableL2$var$Estado
summary(TableL2)
summary(TableP1)
TableL2 <- na.omit(TableP1)
summary(TableL2)
names(TableP1)
TableL2 <- TableP1[,c(2,3,13,15,14)]
summary(TableL2)
TableL2 <- na.omit(TableL2)
summary(TableL2)
head(TableL2)
TableL2 <- list(var = TableL2[,c(1:3)], valor = TableL2[,c(4,5)])
head(TableL2)
names(TableP1)
TableL2 <- TableP1[,c(2,3,5,13,15,14)]
TableL2 <- na.omit(TableL2)
summary(TableL2)
TableL2 <- TableP1[,c(2,3,5,13,15,14)]
summary(TableL2)
TableL2 <- na.omit(TableL2)
TableL2 <- list(var = TableL2[,c(1,2,4)], valor = TableL2[,c(5,6)])
head(TableL2)
summary(TableL2)
TableL3 <- data.frame(TableL2$var$Estado, TableL2$valor)
names(TableL3)[1] <- c("Variable")
TableL3 <- cast(TableL3, Variable ~ NomSci, fun.aggregate = sum)
dim(TableL3)
dim(TableL3)
head(TableL3)
#Rarefraction
RarefraccionCC <- function(Tabla,factor){
require(vegan)
Tabla1 <- data.frame(Tabla, row.names = factor)
raremax <- min(rowSums(Tabla1))
col1 <- seq(1:nrow(Tabla1)) #Para poner color a las lineas
lty1 <- c("solid","dashed","longdash","dotdash")
rarecurve(Tabla1, sample = raremax, col = "black", lty = lty1, cex = 0.6)
#Para calcular el numero de especies de acuerdo a rarefraccion
UUU <- rarefy(Tabla1, raremax)
print(UUU)
}
RarefraccionCC(TableL3[,-1],TableL3[,1])
RenyiCC <- function(Tabla, factor){
require(vegan) #Paquete para la funcion "renyi"
require(ggplot2)#Paquete para hacer la funcion "qplot"
require(reshape)#Paquete para la funcion "melt"
Tabla <- data.frame(Tabla, row.names = factor)
mod <- renyi(Tabla)
vec <- seq(1:11)
mod1 <- data.frame(vec,t(mod))
mod2 <- melt(mod1, id = c("vec"))
mod2
#mod2$variable <- as.numeric(mod2$variable)
orange <- qplot(vec, value, data = mod2, colour = variable, geom = 	"line") + theme_bw()
orange + scale_x_continuous(breaks = c(1,2,3,4,5,6,7,8,9,10,11), labels = c("0","0.25","0.5","1","2","4","8","16","32","64","Inf"))
}
RenyiCC(TableL3[,-1],TableL3[,1])
names(TableL2$var)
TableL3 <- data.frame(TableL2$var$Sistema, TableL2$valor)
names(TableL3)[1] <- c("Variable")
TableL3 <- cast(TableL3, Variable ~ NomSci, fun.aggregate = sum)
dim(TableL3)
dim(TableL3)
head(TableL3)
RarefraccionCC <- function(Tabla,factor){
require(vegan)
Tabla1 <- data.frame(Tabla, row.names = factor)
raremax <- min(rowSums(decostand(Tabla1,"pa")))
col1 <- seq(1:nrow(Tabla1)) #Para poner color a las lineas
lty1 <- c("solid","dashed","longdash","dotdash")
rarecurve(Tabla1, sample = raremax, col = "black", lty = lty1, cex = 0.6)
#Para calcular el numero de especies de acuerdo a rarefraccion
UUU <- rarefy(Tabla1, raremax)
print(UUU)
}
RarefraccionCC(TableL3[,-1],TableL3[,1])
RenyiCC(TableL3[,-1],TableL3[,1])
TableL3 <- data.frame(TableL2$var$Sistema, TableL2$valor)
names(TableL3)[1] <- c("Variable")
head(TableL3)
Tabla4 <- TableL3 %>%
spread(NomSci)
library(tidyr)
Tabla4 <- TableL3 %>%
spread(NomSci)
head(TableL3)
Tabla4 <- TableL3 %>%
spread(NomSci, Variable)
Tabla4
head(TableP)
shiny::runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
names(TableP1)
head(TableP1)
attach(TableP1)
TablePLL <- aggregate(Val1~NomSci + Especie + Género + Nombre_común, FUN = mean)
detach(TableP1)
head(TablePLL)
write.table(TablePLL, file = "Data_Karla.txt", sep = "\t")
head(TableL1)
TableL10 <- TableL1[TableL1$NomSci == "Citrus sp",]
droplevels(TableL10)
TableL10 <- droplevels(TableL10)
summary(TableL10)
TableL101 <- summary(TableL10)
head(TableL101)
names(TableL101)
TableL101
TableL101$Municipio
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
levels(TableL1$NomSci)
names(TableL1)
TableL1$NomSci
levels(TableL1$NomSci)
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
TableL1
names(TableL1)
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
names(TableL1)
TableL101 <- TableL1[,c(15,4,3, 2, 7, 13, 8)
head(TableL101)
TableL101 <- TableL1[,c(15,4,3, 2, 7, 13, 8)]
head(TableL101)
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
TableL101$NomSci
order(TableL101$NomSci)
TableL101 <- TableL101[order(TableL101$NomSci),]
head(TableL101)
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
library(devtools)
devtools::install_github(c("ramnathv/htmlwidgets", "smartinsightsfromdata/rpivotTable"))
data(mtcars)
mtcars
rpivotTable(mtcars)
library(rpivotTable)
rpivotTable(mtcars)
shiny::runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
head(TableL101)
rpivotTable(TableL101)
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
shiny::runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
search()
detach(TableH)
detach(TableH)
detach(TableH)
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
runApp('Dropbox/JANO/2016/Conabio/Github/shiny_Corredor')
q
q()
shiny::runApp('Dropbox/GitHub/SagarpaShiny')
runApp('Dropbox/GitHub/SagarpaShiny')
runApp('Dropbox/GitHub/SagarpaShiny')
runApp('Dropbox/GitHub/SagarpaShiny')
runApp('Dropbox/GitHub/SagarpaShiny')
runApp('Dropbox/GitHub/SagarpaShiny')
runApp('Dropbox/GitHub/SagarpaShiny')
runApp('Dropbox/GitHub/SagarpaShiny')
runApp('Dropbox/GitHub/SagarpaShiny')
runApp('Dropbox/GitHub/SagarpaShiny')
runApp('Dropbox/GitHub/SagarpaShiny')
runApp('Dropbox/GitHub/SagarpaShiny')
runApp('Dropbox/GitHub/SagarpaShiny')
runApp('Dropbox/GitHub/SagarpaShiny')
runApp('Dropbox/GitHub/SagarpaShiny')
runApp('Dropbox/GitHub/SagarpaShiny')
runApp('Dropbox/GitHub/SagarpaShiny')
runApp('Dropbox/GitHub/SagarpaShiny')
runApp('Dropbox/GitHub/SagarpaShiny')
runApp('Dropbox/GitHub/SagarpaShiny')
runApp('Dropbox/GitHub/SagarpaShiny')
setwd("~/Dropbox/GitHub/ShinyMBellon/")
Municipios <- read.csv("DatosShiny.csv", header = T, sep = "," , dec = ".")
head(Municipios)
Municipios$Idcode <- sprintf("%05d", Municipios$Idcode)
head(Municipios)
head(Municipios)
names(Municipios)[1] <- c("region")
str(Municipios)
data("df_mxmunicipio")
library(RColorBrewer)
library(plotly)
library(ggplot2)
library(vegan)
library(mxmaps)
library(leaflet)
library(plyr)
library(dplyr)
library(tidyr)
library(reshape)
data("df_mxmunicipio")
head(df_mxmunicipio)
dim(df_mxmunicipio)
str(Municipios)
head(Municipios)
dim(Municipios)
Municipios <- Municipios %>%
filter(!is.na(region))
dim(Municipios)
tail(Municipios)
tail(Municipios,50)
Municipios <- read.csv("DatosShiny.csv", header = T, sep = "," , dec = ".")
head(Municipios)
Municipios$Idcode <- sprintf("%05d", Municipios$Idcode)
dim(Municipios)
names(Municipios)[1] <- c("region")
str(Municipios)
tail(Municipios,50)
dim(Municipios)
Municipios <- Municipios %>%
filter(!is.na(region)) %>%
filter(!is.na(aplt2010))
dim(Municipios)
2457-2270
data("df_mxmunicipio")
head(df_mxmunicipio)
TTT <- df_mxmunicipio[,1:8]
head(TTT)
str(TTT)
#Para el Area
MxMunicipios <- merge(TTT, Municipios, by = "region")
#MxMunicipios <- merge(TTT, AreaT2, by = "region")
dim(MxMunicipios)
dim(df_mxmunicipio)
dim(Municipios)
names(Municipios)
head(MxMunicipios)
head(MxMunicipios)
View(MxMunicipios)
shiny::runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
MxMunicipios$POBTOT10
value <- MxMunicipios$POBTOT10
value
MxMunicipiosLL <- data.frame(MxMunicipios, value)
runApp()
head(MxMunicipios)
runApp()
runApp()
runApp()
runApp()
runApp()
PerCapitaL <- ((0.34*365)*(1 + 0.23))/1000
PerCapitaL
SurplusRuralPobl <- MxMunicipios$prod2010 -  (MxMunicipios$Pob_rur10 * PerCapitaL)
SurplusTotalPobl <- MxMunicipios$prod2010 -  (MxMunicipios$POBTOT10 * PerCapitaL)
Tabla1 <- data.frame(MxMunicipios[,], SurplusTotalPobl, SurplusRuralPobl)
Tabla1
head(Tabla1)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
VAL <- c(names(MxMunicipios),"SurplusTotalPobl", "SurplusRuralPobl")
runApp()
runApp()
runApp()
brewer.pal(3, "Reds")
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
head(MxMunicipios)
MxMunicipios10 <- MxMunicipios %>%
mutate(Grupo1 = prod2010 < 1000)
head(MxMunicipios10)
MxMunicipios10 <- MxMunicipios %>%
transmutate(Grupo1 = as.factor(round(prod2010/1000,0)))
library(tidyr)
MxMunicipios10 <- MxMunicipios %>%
transmute(Grupo1 = as.factor(round(prod2010/1000,0)))
head(MxMunicipios10)
MxMunicipios10 <- MxMunicipios %>%
group_by(prod2010 <= 1000)
MxMunicipios10
summary(MxMunicipios)
runApp()
runApp()
brewer.pal(3, "Reds")
-brewer.pal(3, "Reds")
brewer.pal(-3, "Reds")
rev(brewer.pal(3, "Reds"))
runApp()
runApp()
runApp()
runApp()
